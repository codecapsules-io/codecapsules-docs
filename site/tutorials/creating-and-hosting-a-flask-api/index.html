
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Build a personal API that lets you access up to the minute exchange rates and weather data for cities of your choosing.">
      
      
      
      
        <link rel="canonical" href="https://codecapsules.io/docs/tutorials/creating-and-hosting-a-flask-api/">
      
      
        
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.2+insiders-2.12.2">
    
    
      
        <title>Create a Flask API - Code Capsules</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.98acb380.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.73e53a79.min.css">
        
      
      <link rel="preload" as="style" href="../../assets/stylesheets/vendor/mermaid.733f213f.min.css">
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    <script>function __md_scope(e,t,_){return new URL(_||(t===localStorage?"../..":"../.."),location).pathname+"."+e}function __md_get(e,t=localStorage,_){return JSON.parse(t.getItem(__md_scope(e,t,_)))}function __md_set(e,t,_=localStorage,o){try{_.setItem(__md_scope(e,_,o),JSON.stringify(t))}catch(e){}}</script>
    
      

  


  

  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-165274631-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="codecapsules" />
  <meta name="twitter:creator" content="codecapsules" />
  
      <meta name="twitter:title" content="Create a Flask API" />
      <meta name="twitter:description" content="Build a personal API that lets you access up to the minute exchange rates and weather data for cities of your choosing." />
      <meta name="twitter:image" content="https://codecapsules.io/docs/assets/tutorials/creating-and-hosting-a-flask-api/creating-flask-api-cover.jpg" />
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-and-hosting-an-api-with-flask-and-code-capsules" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Code Capsules" class="md-header__button md-logo" aria-label="Code Capsules" data-md-component="logo">
      
  <img src="../../assets/cclogo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Code Capsules
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Create a Flask API
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../deployment/" class="md-tabs__link">
        Deployment
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../reference/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../FAQ/teams-spaces-capsules/" class="md-tabs__link">
        FAQ
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../comparisons/" class="md-tabs__link">
        Comparisons
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../community/introducing-code-capsules/" class="md-tabs__link">
        Community
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Code Capsules" class="md-nav__button md-logo" aria-label="Code Capsules" data-md-component="logo">
      
  <img src="../../assets/cclogo.png" alt="logo">

    </a>
    Code Capsules
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--container ">
          <a href="../../deployment/">Deployment</a>
          <label for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
          </label>
        </div>
      
      <nav class="md-nav" aria-label="Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-angular-application-to-production/" class="md-nav__link">
        Angular
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-express-application-to-production/" class="md-nav__link">
        Express
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-flask-application-to-production/" class="md-nav__link">
        Flask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-java-application-to-production/" class="md-nav__link">
        Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-react-application-to-production/" class="md-nav__link">
        React
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-static-html-to-production/" class="md-nav__link">
        HTML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/how-to-deploy-vue-application-to-production/" class="md-nav__link">
        Vue
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--container ">
          <a href="../../reference/">Reference</a>
          <label for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
          </label>
        </div>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/custom_domains/" class="md-nav__link">
        Custom Domains
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/set-up-file-data-capsule/" class="md-nav__link">
        File Data Capsule
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/set-up-mongodb-data-capsule/" class="md-nav__link">
        MongoDB Data Capsule
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/set-up-mysql-data-capsule/" class="md-nav__link">
        MySQL Data Capsule
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--container ">
          <a href="../">Tutorials</a>
          <label for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
          </label>
        </div>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build-slackbot-with-node/" class="md-nav__link">
        Slackbot with Node.js
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build-a-web-file-store/" class="md-nav__link">
        Web File Store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../create-and-host-telegram-bot/" class="md-nav__link">
        Telegram Bot
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Flask API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Flask API
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-our-environment" class="md-nav__link">
    Setting Up Our Environment
  </a>
  
    <nav class="md-nav" aria-label="Setting Up Our Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-the-dependencies" class="md-nav__link">
    Installing the Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-accounts-on-openexchangerates-and-weatherstack" class="md-nav__link">
    Registering Accounts on OpenExchangeRates and weatherstack
  </a>
  
    <nav class="md-nav" aria-label="Registering Accounts on OpenExchangeRates and weatherstack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-our-accounts" class="md-nav__link">
    Creating our accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-exchange-rates" class="md-nav__link">
    Getting exchange rates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-the-temperature" class="md-nav__link">
    Getting the temperature
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-our-api" class="md-nav__link">
    Creating our API
  </a>
  
    <nav class="md-nav" aria-label="Creating our API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beginning-steps-with-flask" class="md-nav__link">
    Beginning steps with Flask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-the-apis" class="md-nav__link">
    Combining the APIs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freezing-requirements-and-creating-the-procfile" class="md-nav__link">
    Freezing Requirements and Creating the Procfile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hosting-the-api-on-code-capsules" class="md-nav__link">
    Hosting the API on Code Capsules
  </a>
  
    <nav class="md-nav" aria-label="Hosting the API on Code Capsules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-and-interacting-with-our-api" class="md-nav__link">
    Viewing and interacting with our API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further Reading
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../customising-domain/" class="md-nav__link">
        Custom Domains
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../develop-persistent-sleep-tracker-part-1/" class="md-nav__link">
        Persistent Sleep Tracker Part 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../develop-persistent-sleep-tracker-part-2/" class="md-nav__link">
        Persistent Sleep Tracker Part 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../host-a-frontend/" class="md-nav__link">
        Front-end Portfolio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stripe-checkout-and-email-with-flask/" class="md-nav__link">
        Stripe Checkout and Email Subscription with Flask
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          FAQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="FAQ" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/teams-spaces-capsules/" class="md-nav__link">
        Teams, Spaces and Capsules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/what-is-a-capsule/" class="md-nav__link">
        What is a Capsule?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/what-is-a-space/" class="md-nav__link">
        What is a Space?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/what-is-a-team/" class="md-nav__link">
        What is a Team?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/how-to-add-custom-domain/" class="md-nav__link">
        How Do I Add a Custom Domain?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--container ">
          <a href="../../comparisons/">Comparisons</a>
          <label for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
          </label>
        </div>
      
      <nav class="md-nav" aria-label="Comparisons" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Comparisons
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../comparisons/comparing-paas-providers-heroku-vs-digitalocean-vs-code-capsules/" class="md-nav__link">
        PaaS Providers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../comparisons/saas-paas-iaas/" class="md-nav__link">
        SaaS vs PaaS vs IaaS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          Community
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../community/introducing-code-capsules/" class="md-nav__link">
        Introducing Code Capsules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../community/codecapsules-hack-days/" class="md-nav__link">
        Hack Days and Free Tech Consulting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../community/founder-fridays/" class="md-nav__link">
        Founder Fridays
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-our-environment" class="md-nav__link">
    Setting Up Our Environment
  </a>
  
    <nav class="md-nav" aria-label="Setting Up Our Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-the-dependencies" class="md-nav__link">
    Installing the Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-accounts-on-openexchangerates-and-weatherstack" class="md-nav__link">
    Registering Accounts on OpenExchangeRates and weatherstack
  </a>
  
    <nav class="md-nav" aria-label="Registering Accounts on OpenExchangeRates and weatherstack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-our-accounts" class="md-nav__link">
    Creating our accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-exchange-rates" class="md-nav__link">
    Getting exchange rates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-the-temperature" class="md-nav__link">
    Getting the temperature
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-our-api" class="md-nav__link">
    Creating our API
  </a>
  
    <nav class="md-nav" aria-label="Creating our API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beginning-steps-with-flask" class="md-nav__link">
    Beginning steps with Flask
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-the-apis" class="md-nav__link">
    Combining the APIs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freezing-requirements-and-creating-the-procfile" class="md-nav__link">
    Freezing Requirements and Creating the Procfile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hosting-the-api-on-code-capsules" class="md-nav__link">
    Hosting the API on Code Capsules
  </a>
  
    <nav class="md-nav" aria-label="Hosting the API on Code Capsules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-and-interacting-with-our-api" class="md-nav__link">
    Viewing and interacting with our API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further Reading
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                
                <h1 id="creating-and-hosting-an-api-with-flask-and-code-capsules">Creating and Hosting an API with Flask and Code Capsules</h1>
<p><img alt="Creating Flask API Cover" src="../../assets/tutorials/creating-and-hosting-a-flask-api/creating-flask-api-cover.jpg" /></p>
<p>An <em>API</em>, or Application Programming Interface, is a tool enabling developers to interact with data online. Imagine: you navigate to some website and see your location's temperature displayed on their homepage. How did they present this information?</p>
<p>Without a doubt, they used an API. APIs are hosted on a server and operate as an access point between the user and some data. </p>
<p>Part of this guide takes a look at the <a href="https://weatherstack.com/">weatherstack</a> API – an API providing weather data. For the website to retrieve your location's temperature, they would've sent a request to an API like weatherstack. In the request, they would include information about your computer's location. weatherstack's API would then return weather data related to your locale, such as the temperature and cloud cover. The weather website will then display this data on their homepage for you to view. </p>
<p>In this tutorial, we'll learn how to create a personal API with Python (using <a href="https://palletsprojects.com/p/flask/">Flask</a>). Our API will use data from the <a href="https://weatherstack.com/">weatherstack</a> and <a href="https://openexchangerates.org/">OpenExchangeRates</a> APIs to give us up-to-the-minute USD exchange rates and the temperature of a given city. </p>
<p>We'll host our API on <a href="https://codecapsules.io/">Code Capsules</a> so that anyone will be able to request information from it, no matter their location. </p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before starting, we'll need a <a href="https://github.com">GitHub</a> account and knowledge of how to push code <a href="https://docs.github.com/en/github/importing-your-projects-to-github/adding-an-existing-project-to-github-using-the-command-line">from a local repository to a remote repository</a>. </p>
<p>Also ensure you've installed the following:</p>
<ul>
<li><a href="https://git-scm.com/downloads">Git</a></li>
<li><a href="https://www.python.org/downloads/">Python</a> 3.XX+</li>
<li><a href="https://virtualenv.pypa.io/en/latest/installation.html">Virtualenv</a> </li>
</ul>
<h2 id="setting-up-our-environment">Setting Up Our Environment</h2>
<p>First, let's set up a virtual Python environment using Virtualenv. Virtualenv provides a clean Python install with no third-party libraries or packages, allowing us to work on this project without interfering with the dependencies of our other projects.</p>
<ol>
<li>Open your terminal and create an empty folder.</li>
<li>Navigate to the folder via your terminal, and enter: </li>
</ol>
<div class="highlight"><pre><span></span><code>virtualenv env
</code></pre></div>
<p>To activate the virtual environment, enter one of the following:</p>
<p><strong>Linux/MacOSX</strong>
<div class="highlight"><pre><span></span><code><span class="nb">source</span> env/bin/activate
</code></pre></div></p>
<p><strong>Windows</strong>
<div class="highlight"><pre><span></span><code>\env\Scripts\activate.bat
</code></pre></div></p>
<p>If the virtual environment has activated correctly, you'll see <code>(env)</code> to the left of your name in the terminal.</p>
<p><img alt="command prompt" src="../../assets/tutorials/creating-and-hosting-a-flask-api/env-active.png" /></p>
<h3 id="installing-the-dependencies">Installing the Dependencies</h3>
<p>Now that we've activated the virtual environment, let's take a look at the packages we'll use to create our API: </p>
<ul>
<li><a href="https://palletsprojects.com/p/flask/">Flask</a> is a minimal web development framework for Python. Flask provides resources and tools for building and maintaining web applications, websites, and more.</li>
<li><a href="https://gunicorn.org/">Gunicorn</a> is a <a href="https://medium.com/analytics-vidhya/what-is-wsgi-web-server-gateway-interface-ed2d290449e">WSGI</a> server that will help serve our Python application (the API hosted on Code Capsules). </li>
<li><a href="https://pypi.org/project/requests/">Requests</a> is a Python library we will use to interact with APIs.</li>
</ul>
<p>From your terminal where you activated the virtual environment, install these packages with: </p>
<div class="highlight"><pre><span></span><code>pip3 install flask gunicorn requests
</code></pre></div>
<p><strong>Note</strong> pip will have automatically been installed when you set the virtual environment if not you can follow <a href="https://pip.pypa.io/en/stable/installation/">this guide</a> to install it.</p>
<h2 id="registering-accounts-on-openexchangerates-and-weatherstack">Registering Accounts on OpenExchangeRates and weatherstack</h2>
<p>Our API will return the current temperature of a chosen city and the USD exchange rates for three currencies. We'll create our API by combining data from two other APIs – <a href="https://weatherstack.com">weatherstack</a> and <a href="https://openexchangerates.org/">OpenExchangeRates</a>. As their names suggest, weatherstack will provide the temperature data, and OpenExchangeRates the exchange rate data. </p>
<p>Registering an account is required so that we can receive a unique <em>API key</em>. An API key is a password that lets us use a particular API. In APIs with more sensitive data, these are used to prevent unauthorised access, but for open APIs like weatherstack and OpenExchangeRates, they're used for <a href="https://en.wikipedia.org/wiki/Rate_limiting">rate limiting</a> to prevent users from sending too many requests at once and overwhelming the system.</p>
<h3 id="creating-our-accounts">Creating our accounts</h3>
<p>First, let's register an account on OpenExchangeRates. Navigate to <a href="https://openexchangerates.org/signup/free">here</a> and:</p>
<ol>
<li>Sign up and log in.</li>
<li>On the dashboard, click "App IDs". </li>
<li>
<p>Take note of your "App ID" (API key) you will need to paste it into the code below.</p>
<p><img alt="OpenExchangeRates api key" src="../../assets/tutorials/creating-and-hosting-a-flask-api/image2.png" /></p>
</li>
</ol>
<p>Obtaining the weatherstack API key is similar:</p>
<ol>
<li>Create a free account on <a href="https://weatherstack.com/product">weatherstack</a></li>
<li>
<p>Log in and take note of the API key presented in the control panel, you will need to paste it into the code below.</p>
<p><img alt="weatherstack api key" src="../../assets/tutorials/creating-and-hosting-a-flask-api/image3.png" /></p>
</li>
</ol>
<p>Now we can retrieve data from the OpenExchangeRates and weatherstack APIs using our API keys. Let's try that out now.</p>
<h3 id="getting-exchange-rates">Getting exchange rates</h3>
<p>First, let's see how requesting data from OpenExchangeRates works. Create a file named <code>app.py</code> and open it.</p>
<p>To request data from an API, we need an <em>endpoint</em> for the type of data we want. APIs often provide multiple endpoints for different information – for example, a weather API may have one endpoint for temperature and another for humidity.</p>
<p>In the code below, the <code>EXCHANGE_URL</code> variable contains the OpenExchangeRates endpoint for retrieving the latest exchange rates. Enter it in your <code>app.py</code> file now, replacing <code>YOUR-API-KEY-HERE</code> with the <strong>OpenExchangeRates</strong> API key you saved earlier.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">EXCHANGE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://openexchangerates.org/api/latest.json?app_id=YOUR-API-KEY-HERE&#39;</span>
<span class="n">exchange_data</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EXCHANGE_URL</span><span class="p">)</span>  
</code></pre></div>
<p>Note that we are including a secret API key in our codebase, which is bad practice. In later tutorials, you'll see how to use environment variables with Code Capsules for better security.</p>
<p>In this code, we're using the <code>requests</code> module to fetch data from the API. It does this over HTTPS, the same way your browser would. In fact, if you copy the value of <code>EXCHANGE_URL</code> to your browser now, you'll see exactly what data your code is fetching.</p>
<p>Note the format of the URL:</p>
<ul>
<li><code>https://openexchangerates.org</code> is the website.</li>
<li><code>/api/</code> is the path containing the API portion of the website.</li>
<li><code>latest.json</code> is the API endpoint which returns the latest exchange rates.</li>
<li><code>?app_id=YOUR-API-KEY-HERE</code> specifies our password for accessing the API.</li>
</ul>
<p>OpenExchangeRates has many other endpoints, each of which provides a different set of data. For example, you could request data from the <code>historical</code> endpoint (<code>https://openexchangerates.org/api/historical/</code>) to access past exchange rates.</p>
<p>Now let's print the data using the <code>.json()</code> method. This method converts the data from raw text into in <a href="https://www.json.org/json-en.html">JSON</a> (Javascript Object Notation), which we can work with like a Python dictionary. </p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">exchange_data</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>When running the program, you will see a lot of output. This is because we are currently retrieving every exchange rate OpenExchangeRates provides. Let's modify the code to only receive exchange rates from USD to EUR, CAD, and ZAR. </p>
<p>Add the following lines below <code>EXCHANGE_URL</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">EXCHANGE_PARAMS</span> <span class="o">=</span>  <span class="p">{</span><span class="s1">&#39;symbols&#39;</span><span class="p">:</span><span class="s1">&#39;ZAR,EUR,CAD&#39;</span><span class="p">}</span>

<span class="n">exchange_data</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EXCHANGE_URL</span><span class="p">,</span> <span class="n">EXCHANGE_PARAMS</span><span class="p">)</span>  
</code></pre></div>
<p>Then change your <code>print</code> statement as follows:</p>
<div class="highlight"><pre><span></span><code>print(exchange_data.json()[&#39;rates&#39;]) # Print only exchange rates
</code></pre></div>
<p>Now we've included an <code>EXCHANGE_PARAMS</code> variable. Providing <em>parameters</em> to an API endpoint will alter which data is retrieved. The parameters available will depend on the API endpoint. You can find a list of parameters for the <code>latest</code> endpoint <a href="https://docs.openexchangerates.org/docs/latest-json">here</a>. </p>
<p>In our case, we supplied the parameter <code>symbols</code> with the three currencies we want data for. When you run the program again, you should only see three exchange rates.  </p>
<h3 id="getting-the-temperature">Getting the temperature</h3>
<p>Now that we've obtained the exchange rates, we can retrieve the temperature for a city. Let's modify the program by adding the following below the <code>print</code> statement. Make sure to replace <code>YOUR-API-KEY-HERE</code> with the <strong>weatherstack</strong> API key.</p>
<div class="highlight"><pre><span></span><code><span class="n">WEATHER_URL</span> <span class="o">=</span> <span class="s1">&#39;http://api.weatherstack.com/current?access_key=YOUR-API-KEY-HERE&#39;</span>
<span class="n">WEATHER_PARAMS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;query&#39;</span><span class="p">:</span><span class="s1">&#39;Cape Town&#39;</span><span class="p">}</span>

<span class="n">weather</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">WEATHER_URL</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">WEATHER_PARAMS</span><span class="p">)</span> 

<span class="nb">print</span><span class="p">(</span><span class="n">weather</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;current&#39;</span><span class="p">][</span><span class="s1">&#39;temperature&#39;</span><span class="p">])</span> <span class="c1"># will print only the temperature; print without indexing to see all the values returned!</span>
</code></pre></div>
<p>Here we retrieve the temperature for Cape Town, South Africa. You can replace "Cape Town" with another city of your choice to see its temperature. </p>
<h2 id="creating-our-api">Creating our API</h2>
<p>Now we'll get to creating the API with Flask. Our API will package the weatherstack and OpenExchangeRates data together in a single endpoint.</p>
<p>This means we can build other applications later which will be able to retrieve all of the data above by calling <code>requests.get(MY_CODE_CAPSULES_URL)</code>. </p>
<h3 id="beginning-steps-with-flask">Beginning steps with Flask</h3>
<p>First, we can remove all the print statements in our <code>app.py</code> file. Afterwards, edit the file accordingly:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">jsonify</span>

<span class="n">EXCHANGE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://openexchangerates.org/api/latest.json?app_id=YOUR-API-KEY-HERE&#39;</span>
<span class="n">EXCHANGE_PARAMS</span> <span class="o">=</span>  <span class="p">{</span><span class="s1">&#39;symbols&#39;</span><span class="p">:</span><span class="s1">&#39;ZAR,EUR,CAD&#39;</span><span class="p">}</span>

<span class="n">WEATHER_URL</span> <span class="o">=</span> <span class="s1">&#39;http://api.weatherstack.com/current?access_key=YOUR-API-KEY-HERE&#39;</span>
<span class="n">WEATHER_PARAMS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;query&#39;</span><span class="p">:</span><span class="s1">&#39;Cape Town&#39;</span><span class="p">}</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span> 

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span> <span class="c1"># Create main page of web-application</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Welcome to my API!&quot;</span> <span class="c1"># Display text on main page</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="c1"># Run the application</span>
</code></pre></div>
<p>After instantiating a Flask object, we add <code>@app.route('/')</code>. The <code>@</code> symbol is known as a <a href="https://realpython.com/primer-on-python-decorators/">Python decorator</a> – their use isn't very important for our application. Just understand that the below creates the homepage for your API:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="err">`</span><span class="o">/</span><span class="err">`</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Welcome to my API!&quot;</span>
</code></pre></div>
<p>Once the API is hosted on Code Capsules, you'll see "Welcome to my API!" when you visit the app's URL which you can find under the domains section of the capsule.</p>
<p>Next, we'll implement the ability to "get" (using <code>requests.get()</code>) our data from the API when it's hosted. </p>
<h3 id="combining-the-apis">Combining the APIs</h3>
<p>We've already written code to retrieve our data – now we just need to combine it and create an endpoint to fetch it. We'll do this by creating a new endpoint called <code>/get</code> that returns our selected data.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/get&#39;</span><span class="p">,</span><span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span> <span class="c1"># Add an endpoint to access our API</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">():</span>
    <span class="n">exchange_data</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">EXCHANGE_URL</span><span class="p">,</span> <span class="n">EXCHANGE_PARAMS</span><span class="p">)</span>  
    <span class="n">weather</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">WEATHER_URL</span><span class="p">,</span><span class="n">params</span><span class="o">=</span><span class="n">WEATHER_PARAMS</span><span class="p">)</span> 

    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
        <span class="s1">&#39;usd_rates&#39;</span><span class="p">:</span> <span class="n">exchange_data</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;rates&#39;</span><span class="p">],</span>
        <span class="s1">&#39;curr_temp&#39;</span><span class="p">:</span> <span class="n">weather</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;current&#39;</span><span class="p">][</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span>
    <span class="p">})</span>
</code></pre></div>
<p><code>@app.route('/get', methods=['GET'])</code> adds an endpoint, <code>/get</code>, allowing us to retrieve data from the API. When Code Capsules gives us a URL for our API, we'll be able to use this URL plus the endpoint <code>/get</code> to retrieve data from our API, combining the inputs from the two APIs we are calling out to in turn.</p>
<p>Next, the statement below returns our data in JSON:</p>
<div class="highlight"><pre><span></span><code><span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
    <span class="s1">&#39;usd_rates&#39;</span> <span class="p">:</span> <span class="n">exchange_data</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;rates&#39;</span><span class="p">],</span>
    <span class="s1">&#39;curr_temp&#39;</span> <span class="p">:</span> <span class="n">weather</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;current&#39;</span><span class="p">][</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span>
    <span class="p">})</span>
</code></pre></div>
<p>Here, the exchange rate data is stored under <code>'usd_rates'</code> and the temperature data under <code>curr_temp</code>. This means that if we request our data and store it in a variable like <code>my_data</code>, we'll be able to print out the exchange rates by executing <code>print(my_data['usd_rates'])</code>, and print the temperature by executing <code>print(my_data['curr_temp'])</code>.</p>
<p>The API is complete – only a few steps left before hosting it on Code Capsules.</p>
<h2 id="freezing-requirements-and-creating-the-procfile">Freezing Requirements and Creating the Procfile</h2>
<p>Before sending our API to GitHub (so Code Capsules can host it), we need the <code>requirements.txt</code> file, and a Procfile.  </p>
<p>The <code>requirements.txt</code> file contains information about the libraries we've used to make our API, which will allow Code Capsules to install those same libraries when we deploy it. To create this file, first ensure your terminal is still in the virtual environment. Then, in the same directory as the <code>app.py</code> file, enter <code>pip3 freeze &gt; requirements.txt</code> in your terminal.</p>
<p>Next, create a new file named <code>Procfile</code> in the same directory. Open the <code>Procfile</code> and enter:</p>
<div class="highlight"><pre><span></span><code>web: gunicorn app:app
</code></pre></div>
<p>This tells Code Capsules to use the Gunicorn WSGI server to serve the HTTP data sent and received by our Flask API.</p>
<h2 id="hosting-the-api-on-code-capsules">Hosting the API on Code Capsules</h2>
<p>The API is now ready to host on Code Capsules. Follow these steps to get it online:</p>
<ol>
<li>Create a remote repository on GitHub.</li>
<li>Push the <code>Procfile</code>, <code>requirements.txt</code>, and <code>app.py</code> files to the repository.</li>
<li>Link the repository to your Code Capsules account following <a href="https://codecapsules.io/docs/deployment/how-to-deploy-flask-application-to-production/">this guide.</a></li>
<li>Create a new Team and Space (as necessary).</li>
</ol>
<p>With the repository linked to Code Capsules, we just need to store the API on a Capsule:</p>
<ol>
<li>Create a new Capsule.</li>
<li>Choose Backend Capsule and continue.</li>
<li>Select your product type and GitHub repository, click next. </li>
<li>Leave the "Run Command" field blank (our <code>Procfile</code> handles this step).</li>
<li>Create the Capsule.</li>
</ol>
<p>Once the Capsule has built, the API is hosted! Let's take a quick look at how to interact with it.</p>
<h3 id="viewing-and-interacting-with-our-api">Viewing and interacting with our API</h3>
<p>Once the Capsule has been built, Code Capsules will provide you with a URL (found in the "Overview" tab). Enter the URL in your browser, and you'll be greeted with "Welcome to my API!". To view the API data, add <code>/get</code> to the end of the URL. </p>
<p>Depending on your browser (Google Chrome was used below), you'll see something like this:</p>
<p><img alt="image4" src="../../assets/tutorials/creating-and-hosting-a-flask-api/image4.png" /></p>
<p>Now try interacting with the API through code. In a new file, enter the following, replacing the URL with your Code Capsules URL (ensure <code>/get</code> is at the end of the URL):</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">MY_URL</span> <span class="o">=</span> <span class="s1">&#39;https://my-code-capsules-url.codecapsules.space/get&#39;</span>

<span class="n">api_data</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">MY_URL</span><span class="p">)</span> 

<span class="nb">print</span><span class="p">(</span><span class="n">api_data</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>All done!</p>
<h2 id="further-reading">Further Reading</h2>
<p>We've learned a lot about APIs; how to interact with them, how to use API endpoints, and how to create and host an API with Flask and Code Capsules. If you'd like a more in-depth look at APIs, check out <a href="https://www.smashingmagazine.com/2018/01/understanding-using-rest-api/">this article</a>.</p>
<p>If you're interested in learning more about Flask or want to know what else you can do with it, start with their <a href="https://flask.palletsprojects.com/en/1.1.x/tutorial/">tutorial</a> or their <a href="https://flask.palletsprojects.com/en/1.1.x/">documentation</a>.</p>
                
                  
                
              
              
                


              
            </article>
            
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../create-and-host-telegram-bot/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Telegram Bot" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Telegram Bot
            </div>
          </div>
        </a>
      
      
        
        <a href="../customising-domain/" class="md-footer__link md-footer__link--next" aria-label="Next: Custom Domains" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Custom Domains
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.tabs", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.61ac8e46.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.218b5f82.min.js"></script>
      
    
  </body>
</html>